$(function(){var e=function(e){this.config=e};e.prototype.onApplicationDefinitionLoaded=function(e){console.log("definition loaded",e)},e.prototype.loadDefinition=function(e,t){$.ajax({url:e,type:"GET",dataType:"jsonp",error:function(e,t,r){n.onLoadError.apply(n,arguments)},success:function(e,r){r!="success"?n.onLoadError.apply(n,arguments):t.apply(n,arguments)}});var n=this},e.prototype.onLoadError=function(){alert("TODO: LOAD ERROR")},e.prototype.checkForUpdates=function(){typeof window.applicationCache!="undefined"&&(window.applicationCache.update(),window.addEventListener("load",function(e){window.applicationCache.addEventListener("updateready",function(e){window.applicationCache.status==window.applicationCache.UPDATEREADY&&(window.applicationCache.swapCache(),window.location.reload())},!1)},!1))},e.prototype.launch=function(){return this.checkForUpdates(),this.getJSON(this.config.applicationUrl,this.onApplicationDefinitionLoaded),this};var t=(new e(CONFIG)).launch()});