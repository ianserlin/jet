function capitalize(e){return e?e[0].toUpperCase()+e.substr(1):""}(function(e){String.prototype.trim===e&&(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Array.prototype.reduce===e&&(Array.prototype.reduce=function(t){if(this===void 0||this===null)throw new TypeError;var n=Object(this),r=n.length>>>0,i=0,s;if(typeof t!="function")throw new TypeError;if(r==0&&arguments.length==1)throw new TypeError;if(arguments.length>=2)s=arguments[1];else do{if(i in n){s=n[i++];break}if(++i>=r)throw new TypeError}while(!0);while(i<r)i in n&&(s=t.call(e,s,n[i],i,n)),i++;return s})})();var Zepto=function(){function e(e){return B.call(e)=="[object Function]"}function t(e){return e instanceof Object}function n(t){var n,r;if(B.call(t)!=="[object Object]")return!1;r=e(t.constructor)&&t.constructor.prototype;if(!r||!hasOwnProperty.call(r,"isPrototypeOf"))return!1;for(n in t);return n===v||hasOwnProperty.call(t,n)}function r(e){return e instanceof Array}function i(e){return typeof e.length=="number"}function s(e){return e.filter(function(e){return e!==v&&e!==null})}function o(e){return e.length>0?[].concat.apply([],e):e}function u(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function a(e){return e in x?x[e]:x[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function f(e,t){return typeof t=="number"&&!N[u(e)]?t+"px":t}function l(e){var t,n;return S[e]||(t=E.createElement(e),E.body.appendChild(t),n=T(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),n=="none"&&(n="block"),S[e]=n),S[e]}function c(e,t){return t===v?g(e):g(e).filter(t)}function h(t,n,r,i){return e(n)?n.call(t,r,i):n}function p(e,t,n){var r=e%2?t:t.parentNode;r?r.insertBefore(n,e?e==1?r.firstChild:e==2?t:null:t.nextSibling):g(n).remove()}function d(e,t){t(e);for(var n in e.childNodes)d(e.childNodes[n],t)}var v,m,g,y,b=[],w=b.slice,E=window.document,S={},x={},T=E.defaultView.getComputedStyle,N={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},C=/^\s*<(\w+|!)[^>]*>/,k=[1,3,8,9,11],L=["after","prepend","before","append"],A=E.createElement("table"),O=E.createElement("tr"),M={tr:E.createElement("tbody"),tbody:A,thead:A,tfoot:A,td:O,th:O,"*":E.createElement("div")},_=/complete|loaded|interactive/,D=/^\.([\w-]+)$/,P=/^#([\w-]+)$/,H=/^[\w-]+$/,B={}.toString,j={},F,I,q=E.createElement("div");return j.matches=function(e,t){if(!e||e.nodeType!==1)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,i=e.parentNode,s=!i;return s&&(i=q).appendChild(e),r=~j.qsa(i,t).indexOf(e),s&&q.removeChild(e),r},F=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},I=function(e){return e.filter(function(t,n){return e.indexOf(t)==n})},j.fragment=function(e,t){t===v&&(t=C.test(e)&&RegExp.$1),t in M||(t="*");var n=M[t];return n.innerHTML=""+e,g.each(w.call(n.childNodes),function(){n.removeChild(this)})},j.Z=function(e,t){return e=e||[],e.__proto__=arguments.callee.prototype,e.selector=t||"",e},j.isZ=function(e){return e instanceof j.Z},j.init=function(t,i){if(!t)return j.Z();if(e(t))return g(E).ready(t);if(j.isZ(t))return t;var o;if(r(t))o=s(t);else if(n(t))o=[g.extend({},t)],t=null;else if(k.indexOf(t.nodeType)>=0||t===window)o=[t],t=null;else if(C.test(t))o=j.fragment(t.trim(),RegExp.$1),t=null;else{if(i!==v)return g(i).find(t);o=j.qsa(E,t)}return j.Z(o,t)},g=function(e,t){return j.init(e,t)},g.extend=function(e){return w.call(arguments,1).forEach(function(t){for(m in t)t[m]!==v&&(e[m]=t[m])}),e},j.qsa=function(e,t){var n;return e===E&&P.test(t)?(n=e.getElementById(RegExp.$1))?[n]:b:e.nodeType!==1&&e.nodeType!==9?b:w.call(D.test(t)?e.getElementsByClassName(RegExp.$1):H.test(t)?e.getElementsByTagName(t):e.querySelectorAll(t))},g.isFunction=e,g.isObject=t,g.isArray=r,g.isPlainObject=n,g.inArray=function(e,t,n){return b.indexOf.call(t,e,n)},g.trim=function(e){return e.trim()},g.uuid=0,g.map=function(e,t){var n,r=[],s,u;if(i(e))for(s=0;s<e.length;s++)n=t(e[s],s),n!=null&&r.push(n);else for(u in e)n=t(e[u],u),n!=null&&r.push(n);return o(r)},g.each=function(e,t){var n,r;if(i(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(r in e)if(t.call(e[r],r,e[r])===!1)return e;return e},g.fn={forEach:b.forEach,reduce:b.reduce,push:b.push,indexOf:b.indexOf,concat:b.concat,map:function(e){return g.map(this,function(t,n){return e.call(t,n,t)})},slice:function(){return g(w.apply(this,arguments))},ready:function(e){return _.test(E.readyState)?e(g):E.addEventListener("DOMContentLoaded",function(){e(g)},!1),this},get:function(e){return e===v?w.call(this):this[e]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){this.parentNode!=null&&this.parentNode.removeChild(this)})},each:function(e){return this.forEach(function(t,n){e.call(t,n,t)}),this},filter:function(e){return g([].filter.call(this,function(t){return j.matches(t,e)}))},add:function(e,t){return g(I(this.concat(g(e,t))))},is:function(e){return this.length>0&&j.matches(this[0],e)},not:function(t){var n=[];if(e(t)&&t.call!==v)this.each(function(e){t.call(this,e)||n.push(this)});else{var r=typeof t=="string"?this.filter(t):i(t)&&e(t.item)?w.call(t):g(t);this.forEach(function(e){r.indexOf(e)<0&&n.push(e)})}return g(n)},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!t(e)?e:g(e)},last:function(){var e=this[this.length-1];return e&&!t(e)?e:g(e)},find:function(e){var t;return this.length==1?t=j.qsa(this[0],e):t=this.map(function(){return j.qsa(this,e)}),g(t)},closest:function(e,t){var n=this[0];while(n&&!j.matches(n,e))n=n!==t&&n!==E&&n.parentNode;return g(n)},parents:function(e){var t=[],n=this;while(n.length>0)n=g.map(n,function(e){if((e=e.parentNode)&&e!==E&&t.indexOf(e)<0)return t.push(e),e});return c(t,e)},parent:function(e){return c(I(this.pluck("parentNode")),e)},children:function(e){return c(this.map(function(){return w.call(this.children)}),e)},siblings:function(e){return c(this.map(function(e,t){return w.call(t.parentNode.children).filter(function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return this.map(function(){return this[e]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display=null),T(this,"").getPropertyValue("display")=="none"&&(this.style.display=l(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return this.each(function(){g(this).wrapAll(g(e)[0].cloneNode(!1))})},wrapAll:function(e){return this[0]&&(g(this[0]).before(e=g(e)),e.append(this)),this},unwrap:function(){return this.parent().each(function(){g(this).replaceWith(g(this).children())}),this},clone:function(){return g(this.map(function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(e){return(e===v?this.css("display")=="none":e)?this.show():this.hide()},prev:function(){return g(this.pluck("previousElementSibling"))},next:function(){return g(this.pluck("nextElementSibling"))},html:function(e){return e===v?this.length>0?this[0].innerHTML:null:this.each(function(t){var n=this.innerHTML;g(this).empty().append(h(this,e,t,n))})},text:function(e){return e===v?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=e})},attr:function(e,n){var r;return typeof e=="string"&&n===v?this.length==0||this[0].nodeType!==1?v:e=="value"&&this[0].nodeName=="INPUT"?this.val():!(r=this[0].getAttribute(e))&&e in this[0]?this[0][e]:r:this.each(function(r){if(this.nodeType!==1)return;if(t(e))for(m in e)this.setAttribute(m,e[m]);else this.setAttribute(e,h(this,n,r,this.getAttribute(e)))})},removeAttr:function(e){return this.each(function(){this.nodeType===1&&this.removeAttribute(e)})},prop:function(e,t){return t===v?this[0]?this[0][e]:v:this.each(function(n){this[e]=h(this,t,n,this[e])})},data:function(e,t){var n=this.attr("data-"+u(e),t);return n!==null?n:v},val:function(e){return e===v?this.length>0?this[0].value:v:this.each(function(t){this.value=h(this,e,t,this.value)})},offset:function(){if(this.length==0)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:e.width,height:e.height}},css:function(e,t){if(t===v&&typeof e=="string")return this.length==0?v:this[0].style[F(e)]||T(this[0],"").getPropertyValue(e);var n="";for(m in e)typeof e[m]=="string"&&e[m]==""?this.each(function(){this.style.removeProperty(u(m))}):n+=u(m)+":"+f(m,e[m])+";";return typeof e=="string"&&(t==""?this.each(function(){this.style.removeProperty(u(e))}):n=u(e)+":"+f(e,t)),this.each(function(){this.style.cssText+=";"+n})},index:function(e){return e?this.indexOf(g(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return this.length<1?!1:a(e).test(this[0].className)},addClass:function(e){return this.each(function(t){y=[];var n=this.className,r=h(this,e,t,n);r.split(/\s+/g).forEach(function(e){g(this).hasClass(e)||y.push(e)},this),y.length&&(this.className+=(n?" ":"")+y.join(" "))})},removeClass:function(e){return this.each(function(t){if(e===v)return this.className="";y=this.className,h(this,e,t,y).split(/\s+/g).forEach(function(e){y=y.replace(a(e)," ")}),this.className=y.trim()})},toggleClass:function(e,t){return this.each(function(n){var r=h(this,e,n,this.className);(t===v?!g(this).hasClass(r):t)?g(this).addClass(r):g(this).removeClass(r)})}},["width","height"].forEach(function(e){g.fn[e]=function(t){var n,r=e.replace(/./,function(e){return e[0].toUpperCase()});return t===v?this[0]==window?window["inner"+r]:this[0]==E?E.documentElement["offset"+r]:(n=this.offset())&&n[e]:this.each(function(n){var r=g(this);r.css(e,h(this,t,n,r[e]()))})}}),L.forEach(function(e,n){g.fn[e]=function(){var e=g.map(arguments,function(e){return t(e)?e:j.fragment(e)});if(e.length<1)return this;var r=this.length,i=r>1,s=n<2;return this.each(function(t,o){for(var u=0;u<e.length;u++){var a=e[s?e.length-u-1:u];d(a,function(e){e.nodeName!=null&&e.nodeName.toUpperCase()==="SCRIPT"&&(!e.type||e.type==="text/javascript")&&window.eval.call(window,e.innerHTML)}),i&&t<r-1&&(a=a.cloneNode(!0)),p(n,o,a)}})},g.fn[n%2?e+"To":"insert"+(n?"Before":"After")]=function(t){return g(t)[e](this),this}}),j.Z.prototype=g.fn,j.camelize=F,j.uniq=I,g.zepto=j,g}();window.Zepto=Zepto,"$"in window||(window.$=Zepto),function(e){function t(e){return e._zid||(e._zid=h++)}function n(e,n,s,o){n=r(n);if(n.ns)var u=i(n.ns);return(c[t(e)]||[]).filter(function(e){return e&&(!n.e||e.e==n.e)&&(!n.ns||u.test(e.ns))&&(!s||t(e.fn)===t(s))&&(!o||e.sel==o)})}function r(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function i(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function s(t,n,r){e.isObject(t)?e.each(t,r):t.split(/\s/).forEach(function(e){r(e,n)})}function o(n,i,o,u,a,f){f=!!f;var l=t(n),h=c[l]||(c[l]=[]);s(i,o,function(t,i){var s=a&&a(i,t),o=s||i,l=function(e){var t=o.apply(n,[e].concat(e.data));return t===!1&&e.preventDefault(),t},c=e.extend(r(t),{fn:i,proxy:l,sel:u,del:s,i:h.length});h.push(c),n.addEventListener(c.e,l,f)})}function u(e,r,i,o){var u=t(e);s(r||"",i,function(t,r){n(e,t,r,o).forEach(function(t){delete c[u][t.i],e.removeEventListener(t.e,t.proxy,!1)})})}function a(t){var n=e.extend({originalEvent:t},t);return e.each(m,function(e,r){n[e]=function(){return this[r]=d,t[e].apply(t,arguments)},n[r]=v}),n}function f(e){if(!("defaultPrevented"in e)){e.defaultPrevented=!1;var t=e.preventDefault;e.preventDefault=function(){this.defaultPrevented=!0,t.call(this)}}}var l=e.zepto.qsa,c={},h=1,p={};p.click=p.mousedown=p.mouseup=p.mousemove="MouseEvents",e.event={add:o,remove:u},e.proxy=function(n,r){if(e.isFunction(n)){var i=function(){return n.apply(r,arguments)};return i._zid=t(n),i}if(typeof r=="string")return e.proxy(n[r],n);throw new TypeError("expected function")},e.fn.bind=function(e,t){return this.each(function(){o(this,e,t)})},e.fn.unbind=function(e,t){return this.each(function(){u(this,e,t)})},e.fn.one=function(e,t){return this.each(function(n,r){o(this,e,t,null,function(e,t){return function(){var n=e.apply(r,arguments);return u(r,t,e),n}})})};var d=function(){return!0},v=function(){return!1},m={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(t,n,r){var i=!1;if(n=="blur"||n=="focus")e.iswebkit?n=n=="blur"?"focusout":n=="focus"?"focusin":n:i=!0;return this.each(function(s,u){o(u,n,r,t,function(n){return function(r){var i,s=e(r.target).closest(t,u).get(0);if(s)return i=e.extend(a(r),{currentTarget:s,liveFired:u}),n.apply(s,[i].concat([].slice.call(arguments,1)))}},i)})},e.fn.undelegate=function(e,t,n){return this.each(function(){u(this,t,n,e)})},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,r){return n==undefined||e.isFunction(n)?this.bind(t,n):this.delegate(n,t,r)},e.fn.off=function(t,n,r){return n==undefined||e.isFunction(n)?this.unbind(t,n):this.undelegate(n,t,r)},e.fn.trigger=function(t,n){return typeof t=="string"&&(t=e.Event(t)),f(t),t.data=n,this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(t)})},e.fn.triggerHandler=function(t,r){var i,s;return this.each(function(o,u){i=a(typeof t=="string"?e.Event(t):t),i.data=r,i.target=u,e.each(n(u,t.type||t),function(e,t){s=t.proxy(i);if(i.isImmediatePropagationStopped())return!1})}),s},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return this.bind(t,e)}}),["focus","blur"].forEach(function(t){e.fn[t]=function(e){if(e)this.bind(t,e);else if(this.length)try{this.get(0)[t]()}catch(n){}return this}}),e.Event=function(e,t){var n=document.createEvent(p[e]||"Events"),r=!0;if(t)for(var i in t)i=="bubbles"?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0,null,null,null,null,null,null,null,null,null,null,null,null),n}}(Zepto),function(e){function t(e){var t=this.os={},n=this.browser={},r=e.match(/WebKit\/([\d.]+)/),i=e.match(/(Android)\s+([\d.]+)/),s=e.match(/(iPad).*OS\s([\d_]+)/),o=!s&&e.match(/(iPhone\sOS)\s([\d_]+)/),u=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),a=u&&e.match(/TouchPad/),f=e.match(/Kindle\/([\d.]+)/),l=e.match(/Silk\/([\d._]+)/),c=e.match(/(BlackBerry).*Version\/([\d.]+)/);if(n.webkit=!!r)n.version=r[1];i&&(t.android=!0,t.version=i[2]),o&&(t.ios=t.iphone=!0,t.version=o[2].replace(/_/g,".")),s&&(t.ios=t.ipad=!0,t.version=s[2].replace(/_/g,".")),u&&(t.webos=!0,t.version=u[2]),a&&(t.touchpad=!0),c&&(t.blackberry=!0,t.version=c[2]),f&&(t.kindle=!0,t.version=f[1]),l&&(n.silk=!0,n.version=l[1]),!l&&t.android&&e.match(/Kindle Fire/)&&(n.silk=!0)}t.call(e,navigator.userAgent),e.__detect=t}(Zepto),function(e,t){function n(e){return e.toLowerCase()}function r(e){return s?s+e:n(e)}var i="",s,o,u,a={Webkit:"webkit",Moz:"",O:"o",ms:"MS"},f=window.document,l=f.createElement("div"),c=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,h={};e.each(a,function(e,r){if(l.style[e+"TransitionProperty"]!==t)return i="-"+n(e)+"-",s=r,!1}),h[i+"transition-property"]=h[i+"transition-duration"]=h[i+"transition-timing-function"]=h[i+"animation-name"]=h[i+"animation-duration"]="",e.fx={off:s===t&&l.style.transitionProperty===t,cssPrefix:i,transitionEnd:r("TransitionEnd"),animationEnd:r("AnimationEnd")},e.fn.animate=function(t,n,r,i){return e.isObject(n)&&(r=n.easing,i=n.complete,n=n.duration),n&&(n/=1e3),this.anim(t,n,r,i)},e.fn.anim=function(n,r,s,o){var u,a={},f,l=this,p,d=e.fx.transitionEnd;r===t&&(r=.4),e.fx.off&&(r=0);if(typeof n=="string")a[i+"animation-name"]=n,a[i+"animation-duration"]=r+"s",d=e.fx.animationEnd;else{for(f in n)c.test(f)?(u||(u=[]),u.push(f+"("+n[f]+")")):a[f]=n[f];u&&(a[i+"transform"]=u.join(" ")),!e.fx.off&&typeof n=="object"&&(a[i+"transition-property"]=Object.keys(n).join(", "),a[i+"transition-duration"]=r+"s",a[i+"transition-timing-function"]=s||"linear")}return p=function(t){if(typeof t!="undefined"){if(t.target!==t.currentTarget)return;e(t.target).unbind(d,arguments.callee)}e(this).css(h),o&&o.call(this)},r>0&&this.bind(d,p),setTimeout(function(){l.css(a),r<=0&&setTimeout(function(){l.each(function(){p.call(this)})},0)},0),this},l=null}(Zepto),function($){function triggerAndReturn(e,t,n){var r=$.Event(t);return $(e).trigger(r,n),!r.defaultPrevented}function triggerGlobal(e,t,n,r){if(e.global)return triggerAndReturn(t||document,n,r)}function ajaxStart(e){e.global&&$.active++===0&&triggerGlobal(e,null,"ajaxStart")}function ajaxStop(e){e.global&&!--$.active&&triggerGlobal(e,null,"ajaxStop")}function ajaxBeforeSend(e,t){var n=t.context;if(t.beforeSend.call(n,e,t)===!1||triggerGlobal(t,n,"ajaxBeforeSend",[e,t])===!1)return!1;triggerGlobal(t,n,"ajaxSend",[e,t])}function ajaxSuccess(e,t,n){var r=n.context,i="success";n.success.call(r,e,i,t),triggerGlobal(n,r,"ajaxSuccess",[t,n,e]),ajaxComplete(i,t,n)}function ajaxError(e,t,n,r){var i=r.context;r.error.call(i,n,t,e),triggerGlobal(r,i,"ajaxError",[n,r,e]),ajaxComplete(t,n,r)}function ajaxComplete(e,t,n){var r=n.context;n.complete.call(r,t,e),triggerGlobal(n,r,"ajaxComplete",[t,n]),ajaxStop(n)}function empty(){}function mimeToDataType(e){return e&&(e==htmlType?"html":e==jsonType?"json":scriptTypeRE.test(e)?"script":xmlTypeRE.test(e)&&"xml")||"text"}function appendQuery(e,t){return(e+"&"+t).replace(/[&?]{1,2}/,"?")}function serializeData(e){isObject(e.data)&&(e.data=$.param(e.data)),e.data&&(!e.type||e.type.toUpperCase()=="GET")&&(e.url=appendQuery(e.url,e.data))}function serialize(e,t,n,r){var i=$.isArray(t);$.each(t,function(t,s){r&&(t=n?r:r+"["+(i?"":t)+"]"),!r&&i?e.add(s.name,s.value):(n?$.isArray(s):isObject(s))?serialize(e,s,n,t):e.add(t,s)})}var jsonpID=0,isObject=$.isObject,document=window.document,key,name,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,jsonType="application/json",htmlType="text/html",blankRE=/^\s*$/;$.active=0,$.ajaxJSONP=function(e){var t="jsonp"+ ++jsonpID,n=document.createElement("script"),r=function(){$(n).remove(),t in window&&(window[t]=empty),ajaxComplete("abort",i,e)},i={abort:r},s;return e.error&&(n.onerror=function(){i.abort(),e.error()}),window[t]=function(r){clearTimeout(s),$(n).remove(),delete window[t],ajaxSuccess(r,i,e)},serializeData(e),n.src=e.url.replace(/=\?/,"="+t),$("head").append(n),e.timeout>0&&(s=setTimeout(function(){i.abort(),ajaxComplete("timeout",i,e)},e.timeout)),i},$.ajaxSettings={type:"GET",beforeSend:empty,success:empty,error:empty,complete:empty,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:jsonType,xml:"application/xml, text/xml",html:htmlType,text:"text/plain"},crossDomain:!1,timeout:0},$.ajax=function(options){var settings=$.extend({},options||{});for(key in $.ajaxSettings)settings[key]===undefined&&(settings[key]=$.ajaxSettings[key]);ajaxStart(settings),settings.crossDomain||(settings.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(settings.url)&&RegExp.$2!=window.location.host);var dataType=settings.dataType,hasPlaceholder=/=\?/.test(settings.url);if(dataType=="jsonp"||hasPlaceholder)return hasPlaceholder||(settings.url=appendQuery(settings.url,"callback=?")),$.ajaxJSONP(settings);settings.url||(settings.url=window.location.toString()),serializeData(settings);var mime=settings.accepts[dataType],baseHeaders={},protocol=/^([\w-]+:)\/\//.test(settings.url)?RegExp.$1:window.location.protocol,xhr=$.ajaxSettings.xhr(),abortTimeout;settings.crossDomain||(baseHeaders["X-Requested-With"]="XMLHttpRequest"),mime&&(baseHeaders.Accept=mime,mime.indexOf(",")>-1&&(mime=mime.split(",",2)[0]),xhr.overrideMimeType&&xhr.overrideMimeType(mime));if(settings.contentType||settings.data&&settings.type.toUpperCase()!="GET")baseHeaders["Content-Type"]=settings.contentType||"application/x-www-form-urlencoded";settings.headers=$.extend(baseHeaders,settings.headers||{}),xhr.onreadystatechange=function(){if(xhr.readyState==4){clearTimeout(abortTimeout);var result,error=!1;if(xhr.status>=200&&xhr.status<300||xhr.status==304||xhr.status==0&&protocol=="file:"){dataType=dataType||mimeToDataType(xhr.getResponseHeader("content-type")),result=xhr.responseText;try{dataType=="script"?(1,eval)(result):dataType=="xml"?result=xhr.responseXML:dataType=="json"&&(result=blankRE.test(result)?null:JSON.parse(result))}catch(e){error=e}error?ajaxError(error,"parsererror",xhr,settings):ajaxSuccess(result,xhr,settings)}else ajaxError(null,"error",xhr,settings)}};var async="async"in settings?settings.async:!0;xhr.open(settings.type,settings.url,async);for(name in settings.headers)xhr.setRequestHeader(name,settings.headers[name]);return ajaxBeforeSend(xhr,settings)===!1?(xhr.abort(),!1):(settings.timeout>0&&(abortTimeout=setTimeout(function(){xhr.onreadystatechange=empty,xhr.abort(),ajaxError(null,"timeout",xhr,settings)},settings.timeout)),xhr.send(settings.data?settings.data:null),xhr)},$.get=function(e,t){return $.ajax({url:e,success:t})},$.post=function(e,t,n,r){return $.isFunction(t)&&(r=r||n,n=t,t=null),$.ajax({type:"POST",url:e,data:t,success:n,dataType:r})},$.getJSON=function(e,t){return $.ajax({url:e,success:t,dataType:"json"})},$.fn.load=function(e,t){if(!this.length)return this;var n=this,r=e.split(/\s/),i;return r.length>1&&(e=r[0],i=r[1]),$.get(e,function(e){n.html(i?$(document.createElement("div")).html(e.replace(rscript,"")).find(i).html():e),t&&t.call(n)}),this};var escape=encodeURIComponent;$.param=function(e,t){var n=[];return n.add=function(e,t){this.push(escape(e)+"="+escape(t))},serialize(n,e,t),n.join("&").replace("%20","+")}}(Zepto),function(e){e.fn.serializeArray=function(){var t=[],n;return e(Array.prototype.slice.call(this.get(0).elements)).each(function(){n=e(this);var r=n.attr("type");this.nodeName.toLowerCase()!="fieldset"&&!this.disabled&&r!="submit"&&r!="reset"&&r!="button"&&(r!="radio"&&r!="checkbox"||this.checked)&&t.push({name:n.attr("name"),value:n.val()})}),t},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(t)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.defaultPrevented||this.get(0).submit()}return this}}(Zepto),function(e){function t(e){return"tagName"in e?e:e.parentNode}function n(e,t,n,r){var i=Math.abs(e-t),s=Math.abs(n-r);return i>=s?e-t>0?"Left":"Right":n-r>0?"Up":"Down"}function r(){a=null,s.last&&(s.el.trigger("longTap"),s={})}function i(){a&&clearTimeout(a),a=null}var s={},o,u=750,a;e(document).ready(function(){var f,l;e(document.body).bind("touchstart",function(n){f=Date.now(),l=f-(s.last||f),s.el=e(t(n.touches[0].target)),o&&clearTimeout(o),s.x1=n.touches[0].pageX,s.y1=n.touches[0].pageY,l>0&&l<=250&&(s.isDoubleTap=!0),s.last=f,a=setTimeout(r,u)}).bind("touchmove",function(e){i(),s.x2=e.touches[0].pageX,s.y2=e.touches[0].pageY}).bind("touchend",function(e){i(),s.isDoubleTap?(s.el.trigger("doubleTap"),s={}):s.x2&&Math.abs(s.x1-s.x2)>30||s.y2&&Math.abs(s.y1-s.y2)>30?(s.el.trigger("swipe")&&s.el.trigger("swipe"+n(s.x1,s.x2,s.y1,s.y2)),s={}):"last"in s&&(s.el.trigger("tap"),o=setTimeout(function(){o=null,s.el.trigger("singleTap"),s={}},250))}).bind("touchcancel",function(){o&&clearTimeout(o),a&&clearTimeout(a),a=o=null,s={}})}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.bind(t,e)}})}(Zepto),this.Handlebars={},function(e){e.VERSION="1.0.rc.1",e.helpers={},e.partials={},e.registerHelper=function(e,t,n){n&&(t.not=n),this.helpers[e]=t},e.registerPartial=function(e,t){this.partials[e]=t},e.registerHelper("helperMissing",function(e){if(arguments.length===2)return undefined;throw new Error("Could not find property '"+e+"'")});var t=Object.prototype.toString,n="[object Function]";e.registerHelper("blockHelperMissing",function(r,i){var s=i.inverse||function(){},o=i.fn,u="",a=t.call(r);return a===n&&(r=r.call(this)),r===!0?o(this):r===!1||r==null?s(this):a==="[object Array]"?r.length>0?e.helpers.each(r,i):s(this):o(r)}),e.K=function(){},e.createFrame=Object.create||function(t){e.K.prototype=t;var n=new e.K;return e.K.prototype=null,n},e.registerHelper("each",function(t,n){var r=n.fn,i=n.inverse,s="",o;n.data&&(o=e.createFrame(n.data));if(t&&t.length>0)for(var u=0,a=t.length;u<a;u++)o&&(o.index=u),s+=r(t[u],{data:o});else s=i(this);return s}),e.registerHelper("if",function(r,i){var s=t.call(r);return s===n&&(r=r.call(this)),!r||e.Utils.isEmpty(r)?i.inverse(this):i.fn(this)}),e.registerHelper("unless",function(t,n){var r=n.fn,i=n.inverse;return n.fn=i,n.inverse=r,e.helpers["if"].call(this,t,n)}),e.registerHelper("with",function(e,t){return t.fn(e)}),e.registerHelper("log",function(t){e.log(t)})}(this.Handlebars),Handlebars.Exception=function(e){var t=Error.prototype.constructor.apply(this,arguments);for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);this.message=t.message},Handlebars.Exception.prototype=new Error,Handlebars.SafeString=function(e){this.string=e},Handlebars.SafeString.prototype.toString=function(){return this.string.toString()},function(){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},t=/[&<>"'`]/g,n=/[&<>"'`]/,r=function(t){return e[t]||"&amp;"};Handlebars.Utils={escapeExpression:function(e){return e instanceof Handlebars.SafeString?e.toString():e==null||e===!1?"":n.test(e)?e.replace(t,r):e},isEmpty:function(e){return typeof e=="undefined"?!0:e===null?!0:e===!1?!0:Object.prototype.toString.call(e)==="[object Array]"&&e.length===0?!0:!1}}}(),Handlebars.VM={template:function(e){var t={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(e,t,n){var r=this.programs[e];return n?Handlebars.VM.program(t,n):r?r:(r=this.programs[e]=Handlebars.VM.program(t),r)},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop};return function(n,r){return r=r||{},e.call(t,Handlebars,n,r.helpers,r.partials,r.data)}},programWithDepth:function(e,t,n){var r=Array.prototype.slice.call(arguments,2);return function(n,i){return i=i||{},e.apply(this,[n,i.data||t].concat(r))}},program:function(e,t){return function(n,r){return r=r||{},e(n,r.data||t)}},noop:function(){return""},invokePartial:function(e,t,n,r,i,s){var o={helpers:r,partials:i,data:s};if(e===undefined)throw new Handlebars.Exception("The partial "+t+" could not be found");if(e instanceof Function)return e(n,o);if(!Handlebars.compile)throw new Handlebars.Exception("The partial "+t+" could not be compiled when running in runtime-only mode");return i[t]=Handlebars.compile(e,{data:s!==undefined}),i[t](n,o)}},Handlebars.template=Handlebars.VM.template,Handlebars.registerHelper("capitalize",function(e,t){return capitalize(e)}),Handlebars.registerHelper("currency",function(e,t){return accounting.formatMoney(e)}),Handlebars.registerHelper("images",function(e,t){var n="";if(e)for(var r=0;r<e.length;r++)n+='<li><img src="'+e[r].preview_url+'"/></li>';return new Handlebars.SafeString(n)}),Handlebars.registerHelper("image",function(e,t){var n="",r=t.hash.class?t.hash.class:"img-rounded";return e&&e.length&&e.length>0&&(n+='<img class="'+r+'" src="'+e[0].preview_url+'"/>'),new Handlebars.SafeString(n)}),Handlebars.registerHelper("openHours",function(e,t){var n="",e=e[0];return e&&(n=[],e.monday&&n.push("M"),e.tuesday&&n.push("T"),e.wednesday&&n.push("W"),e.thursday&&n.push("Th"),e.friday&&n.push("F"),e.saturday&&n.push("Sa"),e.sunday&&n.push("Su"),n=n.join(", "),n+=" "+moment(e.open_time).format("h:mm a")+"-"+moment(e.close_time).format("h:mm a")),new Handlebars.SafeString(n)}),Handlebars.registerHelper("website",function(e,t){var n="";if(e)for(var r=0;r<e.length;r++)n+='<a target="_blank" href="'+e[r].url+'">'+e[r].url+"</a>";return new Handlebars.SafeString(n)}),Handlebars.registerHelper("email",function(e,t){var n="";return n+='<a target="_blank" href="mailto:'+e+'">'+e+"</a>",new Handlebars.SafeString(n)}),Handlebars.registerHelper("latlng",function(e,t){var n="";return n+=e.coordinates[0]+","+e.coordinates[1],new Handlebars.SafeString(n)}),Handlebars.registerHelper("address",function(e,t){}),function(){"use strict";function e(e){switch(e.nodeName.toLowerCase()){case"label":case"video":return!0;default:return/\bneedsclick\b/.test(e.className)}}function t(e){switch(e.nodeName.toLowerCase()){case"textarea":case"select":return!0;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1;default:return!0}break;default:return/\bneedsfocus\b/.test(e.className)}}function n(e,t){return s&&window.devicePixelRatio&&(e*=window.devicePixelRatio,t*=window.devicePixelRatio),document.elementFromPoint(e,t)}function r(r){var s,u={x:0,y:0,scrollX:0,scrollY:0},a=!1,f=Math.pow(37,2),l=function(e){return a=!0,u.x=e.targetTouches[0].pageX,u.y=e.targetTouches[0].pageY,u.x===e.targetTouches[0].clientX&&(u.x+=window.pageXOffset),u.y===e.targetTouches[0].clientY&&(u.y+=window.pageYOffset),u.scrollX=window.pageXOffset,u.scrollY=window.pageYOffset,!0},c=function(e){if(!a)return!0;if(Math.pow(e.targetTouches[0].pageX-u.x,2)+Math.pow(e.targetTouches[0].pageY-u.y,2)>f)a=!1;else if(Math.abs(window.pageXOffset-u.scrollX)>o||Math.abs(window.pageYOffset-u.scrollY)>o)a=!1;return!0},h=function(r){var s,o,f,l;if(!a)return!0;a=!1,f={x:u.x-u.scrollX,y:u.y-u.scrollY},s=n(f.x,f.y);if(!s)return!1;s.nodeType===Node.TEXT_NODE&&(s=s.parentElement);if(s.nodeName.toLowerCase()==="label"&&s.htmlFor){o=document.getElementById(s.htmlFor);if(o){s.focus();if(i)return!1;s=o}}else if(t(s))return s.focus(),!1;return e(s)?!1:(l=document.createEvent("MouseEvents"),l.initMouseEvent("click",!0,!0,window,1,0,0,f.x,f.y,!1,!1,!1,!1,0,null),l.forwardedTouchEvent=!0,s.dispatchEvent(l),r.preventDefault(),!1)},p=function(){a=!1},d=function(t){var r;return t.forwardedTouchEvent?!0:t.cancelable?(r=n(u.x-u.scrollX,u.y-u.scrollY),!r||!e(r)?(t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),!1):!0):!0};if(!r||!r.nodeType)throw new TypeError("Layer must be a document node");if(typeof window.ontouchstart=="undefined")return;r.addEventListener("click",d,!0),r.addEventListener("touchstart",l,!0),r.addEventListener("touchmove",c,!0),r.addEventListener("touchend",h,!0),r.addEventListener("touchcancel",p,!0),typeof r.onclick=="function"&&(s=r.onclick,r.addEventListener("click",function(e){s(e)},!1),r.onclick=null)}var i=navigator.userAgent.indexOf("Android")>0,s=i&&/Chrome|CrMo/.test(navigator.userAgent),o=i||navigator.userAgent.indexOf("PlayBook")===-1?5:20;typeof define=="function"&&define.amd?define(function(){return r}):window.FastClick=r}(),window.addEventListener("load",function(){new FastClick(document.body)},!1),function(e,t){function n(e){return!!(""===e||e&&e.charCodeAt&&e.substr)}function r(e){return c?c(e):"[object Array]"===h.call(e)}function i(e){return"[object Object]"===h.call(e)}function s(e,t){var n,e=e||{},t=t||{};for(n in t)t.hasOwnProperty(n)&&null==e[n]&&(e[n]=t[n]);return e}function o(e,t,n){var r=[],i,s;if(!e)return r;if(l&&e.map===l)return e.map(t,n);for(i=0,s=e.length;i<s;i++)r[i]=t.call(n,e[i],i,e);return r}function u(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e}function a(e){var t=f.settings.currency.format;return"function"==typeof e&&(e=e()),n(e)&&e.match("%v")?{pos:e,neg:e.replace("-","").replace("%v","-%v"),zero:e}:!e||!e.pos||!e.pos.match("%v")?n(t)?f.settings.currency.format={pos:t,neg:t.replace("%v","-%v"),zero:t}:t:e}var f={version:"0.3.2",settings:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}},l=Array.prototype.map,c=Array.isArray,h=Object.prototype.toString,p=f.unformat=f.parse=function(e,t){if(r(e))return o(e,function(e){return p(e,t)});e=e||0;if("number"==typeof e)return e;var t=t||".",n=RegExp("[^0-9-"+t+"]",["g"]),n=parseFloat((""+e).replace(/\((.*)\)/,"-$1").replace(n,"").replace(t,"."));return isNaN(n)?0:n},d=f.toFixed=function(e,t){var t=u(t,f.settings.number.precision),n=Math.pow(10,t);return(Math.round(f.unformat(e)*n)/n).toFixed(t)},v=f.formatNumber=function(e,t,n,a){if(r(e))return o(e,function(
e){return v(e,t,n,a)});var e=p(e),l=s(i(t)?t:{precision:t,thousand:n,decimal:a},f.settings.number),c=u(l.precision),h=0>e?"-":"",m=parseInt(d(Math.abs(e||0),c),10)+"",g=3<m.length?m.length%3:0;return h+(g?m.substr(0,g)+l.thousand:"")+m.substr(g).replace(/(\d{3})(?=\d)/g,"$1"+l.thousand)+(c?l.decimal+d(Math.abs(e),c).split(".")[1]:"")},m=f.formatMoney=function(e,t,n,l,c,h){if(r(e))return o(e,function(e){return m(e,t,n,l,c,h)});var e=p(e),d=s(i(t)?t:{symbol:t,precision:n,thousand:l,decimal:c,format:h},f.settings.currency),g=a(d.format);return(0<e?g.pos:0>e?g.neg:g.zero).replace("%s",d.symbol).replace("%v",v(Math.abs(e),u(d.precision),d.thousand,d.decimal))};f.formatColumn=function(e,t,l,c,h,d){if(!e)return[];var m=s(i(t)?t:{symbol:t,precision:l,thousand:c,decimal:h,format:d},f.settings.currency),g=a(m.format),y=g.pos.indexOf("%s")<g.pos.indexOf("%v")?!0:!1,b=0,e=o(e,function(e){return r(e)?f.formatColumn(e,m):(e=p(e),e=(0<e?g.pos:0>e?g.neg:g.zero).replace("%s",m.symbol).replace("%v",v(Math.abs(e),u(m.precision),m.thousand,m.decimal)),e.length>b&&(b=e.length),e)});return o(e,function(e){return n(e)&&e.length<b?y?e.replace(m.symbol,m.symbol+Array(b-e.length+1).join(" ")):Array(b-e.length+1).join(" ")+e:e})},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=f),exports.accounting=f):"function"==typeof define&&define.amd?define([],function(){return f}):(f.noConflict=function(n){return function(){return e.accounting=n,f.noConflict=t,f}}(e.accounting),e.accounting=f)}(this),function(e,t){function n(e,t,n){this._d=e,this._isUTC=!!t,this._a=e._a||null,e._a=null,this._lang=n||!1}function r(e){var t=this._data={},n=e.years||e.y||0,r=e.months||e.M||0,s=e.weeks||e.w||0,o=e.days||e.d||0,u=e.hours||e.h||0,a=e.minutes||e.m||0,f=e.seconds||e.s||0,l=e.milliseconds||e.ms||0;this._milliseconds=l+f*1e3+a*6e4+u*36e5,this._days=o+s*7,this._months=r+n*12,t.milliseconds=l%1e3,f+=i(l/1e3),t.seconds=f%60,a+=i(f/60),t.minutes=a%60,u+=i(a/60),t.hours=u%24,o+=i(u/24),o+=s*7,t.days=o%30,r+=i(o/30),t.months=r%12,n+=i(r/12),t.years=n,this._lang=!1}function i(e){return e<0?Math.ceil(e):Math.floor(e)}function s(e,t){var n=e+"";while(n.length<t)n="0"+n;return n}function o(e,t,n){var r=t._milliseconds,i=t._days,s=t._months,o;r&&e._d.setTime(+e+r*n),i&&e.date(e.date()+i*n),s&&(o=e.date(),e.date(1).month(e.month()+s*n).date(Math.min(o,e.daysInMonth())))}function u(e){return Object.prototype.toString.call(e)==="[object Array]"}function a(e,t){var n=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),i=0,s;for(s=0;s<n;s++)~~e[s]!==~~t[s]&&i++;return i+r}function f(t,n){var r,i;for(r=1;r<7;r++)t[r]=t[r]==null?r===2?1:0:t[r];return t[7]=n,i=new e(0),n?(i.setUTCFullYear(t[0],t[1],t[2]),i.setUTCHours(t[3],t[4],t[5],t[6])):(i.setFullYear(t[0],t[1],t[2]),i.setHours(t[3],t[4],t[5],t[6])),i._a=t,i}function l(e,t){var n,r,i=[];!t&&D&&(t=require("./lang/"+e));for(n=0;n<P.length;n++)t[P[n]]=t[P[n]]||M.en[P[n]];for(n=0;n<12;n++)r=k([2e3,n]),i[n]=new RegExp("^"+(t.months[n]||t.months(r,""))+"|^"+(t.monthsShort[n]||t.monthsShort(r,"")).replace(".",""),"i");return t.monthsParse=t.monthsParse||i,M[e]=t,t}function c(e){var t=typeof e=="string"&&e||e&&e._lang||null;return t?M[t]||l(t):k}function h(e){return et[e]?"'+("+et[e]+")+'":e.replace(F,"").replace(/\\?'/g,"\\'")}function p(e){return c().longDateFormat[e]||e}function d(e){var t="var a,b;return '"+e.replace(B,h)+"';",n=Function;return new n("t","v","o","p","m",t)}function v(e){return Z[e]||(Z[e]=d(e)),Z[e]}function m(e,t){function n(n,i){return r[n].call?r[n](e,t):r[n][i]}var r=c(e);while(j.test(t))t=t.replace(j,p);return Z[t]||(Z[t]=d(t)),Z[t](e,n,r.ordinal,s,r.meridiem)}function g(e){switch(e){case"DDDD":return U;case"YYYY":return z;case"S":case"SS":case"SSS":case"DDD":return R;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return W;case"Z":case"ZZ":return X;case"T":return V;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return q;default:return new RegExp(e.replace("\\",""))}}function y(e,t,n,r){var i;switch(e){case"M":case"MM":n[1]=t==null?0:~~t-1;break;case"MMM":case"MMMM":for(i=0;i<12;i++)if(c().monthsParse[i].test(t)){n[1]=i;break}break;case"D":case"DD":case"DDD":case"DDDD":t!=null&&(n[2]=~~t);break;case"YY":t=~~t,n[0]=t+(t>70?1900:2e3);break;case"YYYY":n[0]=~~Math.abs(t);break;case"a":case"A":r.isPm=(t+"").toLowerCase()==="pm";break;case"H":case"HH":case"h":case"hh":n[3]=~~t;break;case"m":case"mm":n[4]=~~t;break;case"s":case"ss":n[5]=~~t;break;case"S":case"SS":case"SSS":n[6]=~~(("0."+t)*1e3);break;case"Z":case"ZZ":r.isUTC=!0,i=(t+"").match(Q),i&&i[1]&&(r.tzh=~~i[1]),i&&i[2]&&(r.tzm=~~i[2]),i&&i[0]==="+"&&(r.tzh=-r.tzh,r.tzm=-r.tzm)}}function b(e,t){var n=[0,0,1,0,0,0,0],r={tzh:0,tzm:0},i=t.match(B),s,o;for(s=0;s<i.length;s++)o=(g(i[s]).exec(e)||[])[0],e=e.replace(g(i[s]),""),y(i[s],o,n,r);return r.isPm&&n[3]<12&&(n[3]+=12),r.isPm===!1&&n[3]===12&&(n[3]=0),n[3]+=r.tzh,n[4]+=r.tzm,f(n,r.isUTC)}function w(e,t){var r,i=e.match(I)||[],s,o=99,u,f,l;for(u=0;u<t.length;u++)f=b(e,t[u]),s=m(new n(f),t[u]).match(I)||[],l=a(i,s),l<o&&(o=l,r=f);return r}function E(t){var n="YYYY-MM-DDT",r;if($.exec(t)){for(r=0;r<4;r++)if(K[r][1].exec(t)){n+=K[r][0];break}return X.exec(t)?b(t,n+" Z"):b(t,n)}return new e(t)}function S(e,t,n,r,i){var s=i.relativeTime[e];return typeof s=="function"?s(t||1,!!n,e,r):s.replace(/%d/i,t||1)}function x(e,t,n){var r=A(Math.abs(e)/1e3),i=A(r/60),s=A(i/60),o=A(s/24),u=A(o/365),a=r<45&&["s",r]||i===1&&["m"]||i<45&&["mm",i]||s===1&&["h"]||s<22&&["hh",s]||o===1&&["d"]||o<=25&&["dd",o]||o<=45&&["M"]||o<345&&["MM",A(o/30)]||u===1&&["y"]||["yy",u];return a[2]=t,a[3]=e>0,a[4]=n,S.apply({},a)}function T(e,t){k.fn[e]=function(e){var n=this._isUTC?"UTC":"";return e!=null?(this._d["set"+n+t](e),this):this._d["get"+n+t]()}}function N(e){k.duration.fn[e]=function(){return this._data[e]}}function C(e,t){k.duration.fn["as"+e]=function(){return+this/t}}var k,L="1.7.0",A=Math.round,O,M={},_="en",D=typeof module!="undefined"&&module.exports,P="months|monthsShort|weekdays|weekdaysShort|weekdaysMin|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),H=/^\/?Date\((\-?\d+)/i,B=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?)/g,j=/(LT|LL?L?L?)/g,F=/(^\[)|(\\)|\]$/g,I=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,q=/\d\d?/,R=/\d{1,3}/,U=/\d{3}/,z=/\d{1,4}/,W=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,X=/Z|[\+\-]\d\d:?\d\d/i,V=/T/i,$=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,J="YYYY-MM-DDTHH:mm:ssZ",K=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],Q=/([\+\-]|\d\d)/gi,G="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Y={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},Z={},et={M:"(a=t.month()+1)",MMM:'v("monthsShort",t.month())',MMMM:'v("months",t.month())',D:"(a=t.date())",DDD:"(a=new Date(t.year(),t.month(),t.date()),b=new Date(t.year(),0,1),a=~~(((a-b)/864e5)+1.5))",d:"(a=t.day())",dd:'v("weekdaysMin",t.day())',ddd:'v("weekdaysShort",t.day())',dddd:'v("weekdays",t.day())',w:"(a=new Date(t.year(),t.month(),t.date()-t.day()+5),b=new Date(a.getFullYear(),0,4),a=~~((a-b)/864e5/7+1.5))",YY:"p(t.year()%100,2)",YYYY:"p(t.year(),4)",a:"m(t.hours(),t.minutes(),!0)",A:"m(t.hours(),t.minutes(),!1)",H:"t.hours()",h:"t.hours()%12||12",m:"t.minutes()",s:"t.seconds()",S:"~~(t.milliseconds()/100)",SS:"p(~~(t.milliseconds()/10),2)",SSS:"p(t.milliseconds(),3)",Z:'((a=-t.zone())<0?((a=-a),"-"):"+")+p(~~(a/60),2)+":"+p(~~a%60,2)',ZZ:'((a=-t.zone())<0?((a=-a),"-"):"+")+p(~~(10*a/6),4)'},tt="DDD w M D d".split(" "),nt="M D H h m s w".split(" ");while(tt.length)O=tt.pop(),et[O+"o"]=et[O]+"+o(a)";while(nt.length)O=nt.pop(),et[O+O]="p("+et[O]+",2)";et.DDDD="p("+et.DDD+",3)",k=function(r,i){if(r===null||r==="")return null;var s,o;return k.isMoment(r)?new n(new e(+r._d),r._isUTC,r._lang):(i?u(i)?s=w(r,i):s=b(r,i):(o=H.exec(r),s=r===t?new e:o?new e(+o[1]):r instanceof e?r:u(r)?f(r):typeof r=="string"?E(r):new e(r)),new n(s))},k.utc=function(e,t){return u(e)?new n(f(e,!0),!0):(typeof e=="string"&&!X.exec(e)&&(e+=" +0000",t&&(t+=" Z")),k(e,t).utc())},k.unix=function(e){return k(e*1e3)},k.duration=function(e,t){var n=k.isDuration(e),i=typeof e=="number",s=n?e._data:i?{}:e,o;return i&&(t?s[t]=e:s.milliseconds=e),o=new r(s),n&&(o._lang=e._lang),o},k.humanizeDuration=function(e,t,n){return k.duration(e,t===!0?null:t).humanize(t===!0?!0:n)},k.version=L,k.defaultFormat=J,k.lang=function(e,t){var n;if(!e)return _;(t||!M[e])&&l(e,t);if(M[e]){for(n=0;n<P.length;n++)k[P[n]]=M[e][P[n]];k.monthsParse=M[e].monthsParse,_=e}},k.langData=c,k.isMoment=function(e){return e instanceof n},k.isDuration=function(e){return e instanceof r},k.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10;return~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th"}}),k.fn=n.prototype={clone:function(){return k(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this._d.toString()},toDate:function(){return this._d},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds(),!!this._isUTC]},isValid:function(){return this._a?!a(this._a,(this._a[7]?k.utc(this):this).toArray()):!isNaN(this._d.getTime())},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(e){return m(this,e?e:k.defaultFormat)},add:function(e,t){var n=t?k.duration(+t,e):k.duration(e);return o(this,n,1),this},subtract:function(e,t){var n=t?k.duration(+t,e):k.duration(e);return o(this,n,-1),this},diff:function(e,t,n){var r=this._isUTC?k(e).utc():k(e).local(),i=(this.zone()-r.zone())*6e4,s=this._d-r._d-i,o=this.year()-r.year(),u=this.month()-r.month(),a=this.date()-r.date(),f;return t==="months"?f=o*12+u+a/30:t==="years"?f=o+(u+a/30)/12:f=t==="seconds"?s/1e3:t==="minutes"?s/6e4:t==="hours"?s/36e5:t==="days"?s/864e5:t==="weeks"?s/6048e5:s,n?f:A(f)},from:function(e,t){return k.duration(this.diff(e)).lang(this._lang).humanize(!t)},fromNow:function(e){return this.from(k(),e)},calendar:function(){var e=this.diff(k().sod(),"days",!0),t=this.lang().calendar,n=t.sameElse,r=e<-6?n:e<-1?t.lastWeek:e<0?t.lastDay:e<1?t.sameDay:e<2?t.nextDay:e<7?t.nextWeek:n;return this.format(typeof r=="function"?r.apply(this):r)},isLeapYear:function(){var e=this.year();return e%4===0&&e%100!==0||e%400===0},isDST:function(){return this.zone()<k([this.year()]).zone()||this.zone()<k([this.year(),5]).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e==null?t:this.add({d:e-t})},startOf:function(e){switch(e.replace(/s$/,"")){case"year":this.month(0);case"month":this.date(1);case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return this},endOf:function(e){return this.startOf(e).add(e.replace(/s?$/,"s"),1).subtract("ms",1)},sod:function(){return this.clone().startOf("day")},eod:function(){return this.clone().endOf("day")},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return k.utc([this.year(),this.month()+1,0]).date()},lang:function(e){return e===t?c(this):(this._lang=e,this)}};for(O=0;O<G.length;O++)T(G[O].toLowerCase(),G[O]);T("year","FullYear"),k.duration.fn=r.prototype={weeks:function(){return i(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months*2592e6},humanize:function(e){var t=+this,n=this.lang().relativeTime,r=x(t,!e,this.lang());return e&&(r=(t<=0?n.past:n.future).replace(/%s/i,r)),r},lang:k.fn.lang};for(O in Y)Y.hasOwnProperty(O)&&(C(O,Y[O]),N(O.toLowerCase()));C("Weeks",6048e5),D&&(module.exports=k),typeof ender=="undefined"&&(this.moment=k),typeof define=="function"&&define.amd&&define("moment",[],function(){return k})}.call(this,Date);